?start: program

program: function* -> program

function: "fn" CNAME "()" block
call: CNAME "()"

?statement: "let" CNAME ":" TYPE "=" value ";"                    -> assign
          | "print" value ";"                                     -> print
          | "if" value block ("elif" value block)* ["else" block] -> if_else
          | call ";"

block: "{" statement* "}" -> block

?value: logical

?logical: logical "and" comparison -> and
       | logical "or" comparison   -> or
       | "not" logical             -> not
       | comparison

?comparison: arithmetic
           | comparison ">" arithmetic  -> greater_than
           | comparison ">=" arithmetic -> greater_equal
           | comparison "<" arithmetic  -> less_than
           | comparison "<=" arithmetic -> less_equal
           | comparison "!=" arithmetic -> not_equal
           | comparison "==" arithmetic -> equal

?arithmetic: term
           | arithmetic "+" term -> addition
           | arithmetic "-" term -> subtraction

?term: factor
     | term "*" factor -> multiplication
     | term "/" factor -> division

?factor: NUMBER  -> number
       | BOOL    -> boolean
       | CNAME
       | "(" logical ")"
       | call

TYPE: "i32" | "bool"
BOOL: "true" | "false"

%import common.NUMBER
%import common.WS
%import common.CNAME

%ignore WS
